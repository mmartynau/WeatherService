@isTest
global class WeatherServiceMock implements HttpCalloutMock {
    global HTTPResponse respond(HTTPRequest request) {
        // Create a fake response
        HttpResponse response = new HttpResponse();
        response.setHeader('Content-Type', 'application/json');
        response.setBody('{"cod":"200","message":0,"cnt":40,"list":[{"dt":1669982400,"main":{"temp":273.17,"feels_like":268.62,"temp_min":273.17,"temp_max":273.39,"pressure":1025,"sea_level":1025,"grnd_level":998,"humidity":80,"temp_kf":-0.22},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":{"all":99},"wind":{"speed":4.41,"deg":84,"gust":5.81},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2022-12-02 12:00:00"},{"dt":1669993200,"main":{"temp":272.76,"feels_like":268.98,"temp_min":272.61,"temp_max":272.76,"pressure":1025,"sea_level":1025,"grnd_level":998,"humidity":82,"temp_kf":0.15},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":99},"wind":{"speed":3.23,"deg":77,"gust":6.52},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2022-12-02 15:00:00"},{"dt":1670004000,"main":{"temp":271.58,"feels_like":267.85,"temp_min":271.58,"temp_max":271.58,"pressure":1025,"sea_level":1025,"grnd_level":997,"humidity":90,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":98},"wind":{"speed":2.91,"deg":74,"gust":6.2},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2022-12-02 18:00:00"},{"dt":1670014800,"main":{"temp":271.42,"feels_like":268.71,"temp_min":271.42,"temp_max":271.42,"pressure":1025,"sea_level":1025,"grnd_level":997,"humidity":93,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":88},"wind":{"speed":1.98,"deg":68,"gust":3.53},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2022-12-02 21:00:00"},{"dt":1670025600,"main":{"temp":271.39,"feels_like":271.39,"temp_min":271.39,"temp_max":271.39,"pressure":1025,"sea_level":1025,"grnd_level":998,"humidity":93,"temp_kf":0},"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04n"}],"clouds":{"all":79},"wind":{"speed":0.92,"deg":61,"gust":1.25},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2022-12-03 00:00:00"},{"dt":1670036400,"main":{"temp":271.9,"feels_like":271.9,"temp_min":271.9,"temp_max":271.9,"pressure":1025,"sea_level":1025,"grnd_level":998,"humidity":88,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":99},"wind":{"speed":0.75,"deg":75,"gust":0.73},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2022-12-03 03:00:00"},{"dt":1670047200,"main":{"temp":272.03,"feels_like":272.03,"temp_min":272.03,"temp_max":272.03,"pressure":1025,"sea_level":1025,"grnd_level":998,"humidity":84,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":100},"wind":{"speed":0.93,"deg":94,"gust":0.94},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2022-12-03 06:00:00"},{"dt":1670058000,"main":{"temp":274.14,"feels_like":274.14,"temp_min":274.14,"temp_max":274.14,"pressure":1026,"sea_level":1026,"grnd_level":998,"humidity":73,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":{"all":99},"wind":{"speed":1.09,"deg":84,"gust":1.34},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2022-12-03 09:00:00"},{"dt":1670068800,"main":{"temp":275.75,"feels_like":274.09,"temp_min":275.75,"temp_max":275.75,"pressure":1025,"sea_level":1025,"grnd_level":997,"humidity":70,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":{"all":100},"wind":{"speed":1.7,"deg":74,"gust":2.14},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2022-12-03 12:00:00"},{"dt":1670079600,"main":{"temp":273.33,"feels_like":270.77,"temp_min":273.33,"temp_max":273.33,"pressure":1025,"sea_level":1025,"grnd_level":997,"humidity":87,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":100},"wind":{"speed":2.11,"deg":74,"gust":2.21},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2022-12-03 15:00:00"},{"dt":1670090400,"main":{"temp":273.49,"feels_like":270.52,"temp_min":273.49,"temp_max":273.49,"pressure":1024,"sea_level":1024,"grnd_level":997,"humidity":92,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":100},"wind":{"speed":2.51,"deg":87,"gust":4.25},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2022-12-03 18:00:00"},{"dt":1670101200,"main":{"temp":274.12,"feels_like":271.63,"temp_min":274.12,"temp_max":274.12,"pressure":1023,"sea_level":1023,"grnd_level":996,"humidity":92,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":100},"wind":{"speed":2.17,"deg":82,"gust":3.73},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2022-12-03 21:00:00"},{"dt":1670112000,"main":{"temp":274.66,"feels_like":272.49,"temp_min":274.66,"temp_max":274.66,"pressure":1023,"sea_level":1023,"grnd_level":995,"humidity":90,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":100},"wind":{"speed":1.97,"deg":80,"gust":2.42},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2022-12-04 00:00:00"},{"dt":1670122800,"main":{"temp":274.53,"feels_like":272.77,"temp_min":274.53,"temp_max":274.53,"pressure":1022,"sea_level":1022,"grnd_level":995,"humidity":90,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":100},"wind":{"speed":1.64,"deg":74,"gust":1.68},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2022-12-04 03:00:00"},{"dt":1670133600,"main":{"temp":274.53,"feels_like":272.97,"temp_min":274.53,"temp_max":274.53,"pressure":1022,"sea_level":1022,"grnd_level":995,"humidity":90,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":99},"wind":{"speed":1.5,"deg":71,"gust":1.48},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2022-12-04 06:00:00"},{"dt":1670144400,"main":{"temp":276.64,"feels_like":275.19,"temp_min":276.64,"temp_max":276.64,"pressure":1023,"sea_level":1023,"grnd_level":995,"humidity":82,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":{"all":97},"wind":{"speed":1.64,"deg":78,"gust":2.28},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2022-12-04 09:00:00"},{"dt":1670155200,"main":{"temp":277.64,"feels_like":276.24,"temp_min":277.64,"temp_max":277.64,"pressure":1022,"sea_level":1022,"grnd_level":995,"humidity":82,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":{"all":98},"wind":{"speed":1.72,"deg":67,"gust":2.4},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2022-12-04 12:00:00"},{"dt":1670166000,"main":{"temp":276.02,"feels_like":274.32,"temp_min":276.02,"temp_max":276.02,"pressure":1022,"sea_level":1022,"grnd_level":995,"humidity":87,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":100},"wind":{"speed":1.76,"deg":78,"gust":1.74},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2022-12-04 15:00:00"},{"dt":1670176800,"main":{"temp":275.48,"feels_like":273.78,"temp_min":275.48,"temp_max":275.48,"pressure":1022,"sea_level":1022,"grnd_level":995,"humidity":90,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":100},"wind":{"speed":1.7,"deg":68,"gust":1.92},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2022-12-04 18:00:00"},{"dt":1670187600,"main":{"temp":274.57,"feels_like":274.57,"temp_min":274.57,"temp_max":274.57,"pressure":1023,"sea_level":1023,"grnd_level":995,"humidity":91,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":85},"wind":{"speed":1.21,"deg":65,"gust":1.21},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2022-12-04 21:00:00"},{"dt":1670198400,"main":{"temp":274.15,"feels_like":274.15,"temp_min":274.15,"temp_max":274.15,"pressure":1023,"sea_level":1023,"grnd_level":996,"humidity":91,"temp_kf":0},"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04n"}],"clouds":{"all":62},"wind":{"speed":1.15,"deg":75,"gust":1.19},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2022-12-05 00:00:00"},{"dt":1670209200,"main":{"temp":274.07,"feels_like":272.6,"temp_min":274.07,"temp_max":274.07,"pressure":1023,"sea_level":1023,"grnd_level":996,"humidity":90,"temp_kf":0},"weather":[{"id":801,"main":"Clouds","description":"few clouds","icon":"02n"}],"clouds":{"all":20},"wind":{"speed":1.4,"deg":85,"gust":1.4},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2022-12-05 03:00:00"},{"dt":1670220000,"main":{"temp":273.82,"feels_like":271.78,"temp_min":273.82,"temp_max":273.82,"pressure":1023,"sea_level":1023,"grnd_level":996,"humidity":91,"temp_kf":0},"weather":[{"id":801,"main":"Clouds","description":"few clouds","icon":"02n"}],"clouds":{"all":17},"wind":{"speed":1.76,"deg":84,"gust":1.81},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2022-12-05 06:00:00"},{"dt":1670230800,"main":{"temp":276.24,"feels_like":274.3,"temp_min":276.24,"temp_max":276.24,"pressure":1023,"sea_level":1023,"grnd_level":996,"humidity":82,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"clouds":{"all":9},"wind":{"speed":1.99,"deg":80,"gust":2.8},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2022-12-05 09:00:00"},{"dt":1670241600,"main":{"temp":277.9,"feels_like":276.77,"temp_min":277.9,"temp_max":277.9,"pressure":1023,"sea_level":1023,"grnd_level":996,"humidity":79,"temp_kf":0},"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03d"}],"clouds":{"all":29},"wind":{"speed":1.53,"deg":56,"gust":1.87},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2022-12-05 12:00:00"},{"dt":1670252400,"main":{"temp":275.63,"feels_like":275.63,"temp_min":275.63,"temp_max":275.63,"pressure":1023,"sea_level":1023,"grnd_level":995,"humidity":87,"temp_kf":0},"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04n"}],"clouds":{"all":76},"wind":{"speed":1.18,"deg":63,"gust":1.18},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2022-12-05 15:00:00"},{"dt":1670263200,"main":{"temp":276.01,"feels_like":276.01,"temp_min":276.01,"temp_max":276.01,"pressure":1023,"sea_level":1023,"grnd_level":996,"humidity":86,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":88},"wind":{"speed":0.98,"deg":102,"gust":1},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2022-12-05 18:00:00"},{"dt":1670274000,"main":{"temp":276.72,"feels_like":276.72,"temp_min":276.72,"temp_max":276.72,"pressure":1023,"sea_level":1023,"grnd_level":996,"humidity":86,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":100},"wind":{"speed":0.57,"deg":105,"gust":0.58},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2022-12-05 21:00:00"},{"dt":1670284800,"main":{"temp":276.95,"feels_like":276.95,"temp_min":276.95,"temp_max":276.95,"pressure":1022,"sea_level":1022,"grnd_level":995,"humidity":88,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":100},"wind":{"speed":0.42,"deg":94,"gust":0.54},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2022-12-06 00:00:00"},{"dt":1670295600,"main":{"temp":276.77,"feels_like":276.77,"temp_min":276.77,"temp_max":276.77,"pressure":1022,"sea_level":1022,"grnd_level":995,"humidity":89,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":98},"wind":{"speed":1.22,"deg":85,"gust":1.25},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2022-12-06 03:00:00"},{"dt":1670306400,"main":{"temp":276.93,"feels_like":276.93,"temp_min":276.93,"temp_max":276.93,"pressure":1021,"sea_level":1021,"grnd_level":994,"humidity":90,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":99},"wind":{"speed":0.76,"deg":90,"gust":0.89},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2022-12-06 06:00:00"},{"dt":1670317200,"main":{"temp":277.87,"feels_like":277.87,"temp_min":277.87,"temp_max":277.87,"pressure":1021,"sea_level":1021,"grnd_level":994,"humidity":88,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":{"all":100},"wind":{"speed":0.28,"deg":154,"gust":0.38},"visibility":10000,"pop":0.05,"sys":{"pod":"d"},"dt_txt":"2022-12-06 09:00:00"},{"dt":1670328000,"main":{"temp":278.92,"feels_like":278.92,"temp_min":278.92,"temp_max":278.92,"pressure":1020,"sea_level":1020,"grnd_level":993,"humidity":87,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":{"all":100},"wind":{"speed":0.53,"deg":195,"gust":0.73},"visibility":10000,"pop":0.09,"sys":{"pod":"d"},"dt_txt":"2022-12-06 12:00:00"},{"dt":1670338800,"main":{"temp":278.46,"feels_like":278.46,"temp_min":278.46,"temp_max":278.46,"pressure":1018,"sea_level":1018,"grnd_level":992,"humidity":90,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":100},"wind":{"speed":1.23,"deg":144,"gust":1.33},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2022-12-06 15:00:00"},{"dt":1670349600,"main":{"temp":278,"feels_like":278,"temp_min":278,"temp_max":278,"pressure":1018,"sea_level":1018,"grnd_level":991,"humidity":91,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":100},"wind":{"speed":0.91,"deg":194,"gust":0.96},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2022-12-06 18:00:00"},{"dt":1670360400,"main":{"temp":277.9,"feels_like":277.9,"temp_min":277.9,"temp_max":277.9,"pressure":1017,"sea_level":1017,"grnd_level":990,"humidity":91,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":100},"wind":{"speed":1.13,"deg":212,"gust":1.15},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2022-12-06 21:00:00"},{"dt":1670371200,"main":{"temp":278.21,"feels_like":278.21,"temp_min":278.21,"temp_max":278.21,"pressure":1016,"sea_level":1016,"grnd_level":989,"humidity":89,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":100},"wind":{"speed":0.65,"deg":202,"gust":0.69},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2022-12-07 00:00:00"},{"dt":1670382000,"main":{"temp":278.15,"feels_like":278.15,"temp_min":278.15,"temp_max":278.15,"pressure":1015,"sea_level":1015,"grnd_level":988,"humidity":90,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":99},"wind":{"speed":0.99,"deg":167,"gust":0.99},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2022-12-07 03:00:00"},{"dt":1670392800,"main":{"temp":277.54,"feels_like":277.54,"temp_min":277.54,"temp_max":277.54,"pressure":1014,"sea_level":1014,"grnd_level":987,"humidity":91,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04n"}],"clouds":{"all":100},"wind":{"speed":1.03,"deg":150,"gust":1.11},"visibility":10000,"pop":0,"sys":{"pod":"n"},"dt_txt":"2022-12-07 06:00:00"},{"dt":1670403600,"main":{"temp":278.9,"feels_like":278.9,"temp_min":278.9,"temp_max":278.9,"pressure":1012,"sea_level":1012,"grnd_level":986,"humidity":85,"temp_kf":0},"weather":[{"id":804,"main":"Clouds","description":"overcast clouds","icon":"04d"}],"clouds":{"all":100},"wind":{"speed":1.18,"deg":140,"gust":1.52},"visibility":10000,"pop":0,"sys":{"pod":"d"},"dt_txt":"2022-12-07 09:00:00"}],"city":{"id":7530768,"name":"Powiat krakowski","coord":{"lat":50.0999,"lon":19.9371},"country":"PL","population":0,"timezone":3600,"sunrise":1669961918,"sunset":1669992056}}');
        response.setStatusCode(200);
        return response;
    }
}